# 二项式定理

$$
(a+b)^n=\underset{i}{\Sigma}{n\choose i}a^ib^{n-i} 
$$

1. 生成函数
$$
F(x)=\underset{i\geq0}\Sigma {n\choose i}x^n=(1+x)^n
$$
2. 证明一些组合恒等式$$\underset{i=0}{\overset{n}{\Sigma}}{n\choose i}^2={2n\choose n}$$可以考虑$$(1+x)^n(1+x)^n=(1+x)^{2n}$$即$$\underset{i=0}{\overset{n}{\Sigma}}\underset{j=0}{\overset{n}{\Sigma}}{n\choose i}{n\choose j}x^ix^j=\underset{i=0}{\overset{2n}{\Sigma}}{2n\choose k}x^k$$我们考虑固定$k$，$j=k-i$$$\underset{i=0}{\overset{k}{\Sigma}}{n\choose i}{n\choose k-i}x^k={2n\choose k}x^k$$消掉$x^k$$$\underset{i=0}{\overset{k}{\Sigma}}{n\choose i}{n\choose k-i}={2n\choose k}$$令$k=n$，得到$$\underset{i=0}{\overset{n}{\Sigma}}{n\choose i}{n\choose n-i}={2n\choose n}$$由于${n \choose i}={n\choose n-i}$于是可以得到$$\underset{i=0}{\overset{n}{\Sigma}}{n\choose i}^2={2n\choose n}$$
3. 多项式定理$$(x_1+x_2+\dots+x_k)^n=\underset{n_1+n_2+\dots+n_k=n}{\overset{}{\Sigma}}\frac{n!}{n_1!n_2!\dots n_k!}x_1^{n_1}x_2^{n_2}\dots x_k^{n_k}$$
4. 广义二项式定理：在实数域上都成立，阶乘变换为$\Gamma(x)$

# 生成函数练习

## 例题

**例题 1：基础序列**
- 求序列 $a_n = 1$（即常数序列 $1, 1, 1, \dots$）的普通生成函数的封闭形式。

**例题 2：线性序列**
- 求序列 $a_n = n$（即 $0, 1, 2, 3, \dots$）的普通生成函数的封闭形式。

**例题 3：等比序列**
- 求序列 $a_n = 2^n$ 的普通生成函数的封闭形式。
- 推广：求序列 $a_n = c^n$（$c$ 为常数）的普通生成函数的封闭形式。

**例题 4：组合数序列**
- 求序列 $a_n = \binom{m}{n}$（固定 $m$）的普通生成函数的封闭形式。这直接与二项式定理相关。

**例题 5：部分和序列**
- 已知序列 $\{b_n\}$ 的生成函数为 $B(x)$，求其部分和序列 $s_n = b_0 + b_1 + \dots + b_n$ 的生成函数的封闭形式（用 $B(x)$ 表示）。

**例题 6：错排问题**
- 错排数 $D_n$ 满足递推关系 $D_n = (n-1)(D_{n-1} + D_{n-2})$，且 $D_0=1, D_1=0$。尝试求其指数生成函数 $\sum_{n=0}^{\infty} D_n \frac{x^n}{n!}$ 的封闭形式。

**例题 7：斐波那契数列**
- 斐波那契数列 $F_n$ 满足 $F_0=0, F_1=1, F_n = F_{n-1} + F_{n-2} \ (n \ge 2)$。求其普通生成函数 $\sum_{n=0}^{\infty} F_n x^n$ 的封闭形式。

**例题 8：卡特兰数**
- 卡特兰数 $C_n$ 满足递推关系 $C_n = \sum_{k=0}^{n-1} C_k C_{n-1-k}$，且 $C_0=1$。求其普通生成函数 $C(x) = \sum_{n=0}^{\infty} C_n x^n$ 满足的方程，并尝试解出其封闭形式。

**例题 9：组合数乘积序列**
- 求序列 $a_i = \binom{a}{i} \binom{b}{i}$（其中 $a$ 和 $b$ 是固定非负整数）的普通生成函数 $\sum_{i=0}^{\min(a,b)} \binom{a}{i} \binom{b}{i} x^i$ 的封闭形式。

## 答案

- **例题1**：序列 $a_n = 1$ 的普通生成函数封闭形式是 $\frac{1}{1-x}$。
- **例题2**：序列 $a_n = n$ 的普通生成函数封闭形式是 $\frac{x}{(1-x)^2}$。
- **例题3**：序列 $a_n = 2^n$ 的普通生成函数封闭形式是 $\frac{1}{1-2x}$；推广序列 $a_n = c^n$ 的封闭形式是 $\frac{1}{1-cx}$。
- **例题4**：序列 $a_n = \binom{m}{n}$ 的普通生成函数封闭形式是 $(1+x)^m$。
- **例题5**：部分和序列 $s_n$ 的生成函数封闭形式是 $\frac{B(x)}{1-x}$，其中 $B(x)$ 是原序列的生成函数。
- **例题6**：错排数 $D_n$ 的指数生成函数封闭形式是 $\frac{e^{-x}}{1-x}$。
- **例题7**：斐波那契数列 $F_n$ 的普通生成函数封闭形式是 $\frac{x}{1-x-x^2}$。
- **例题8**：卡特兰数 $C_n$ 的普通生成函数满足方程 $C(x) = 1 + x C(x)^2$，其封闭形式是 $C(x) = \frac{1 - \sqrt{1-4x}}{2x}$。
